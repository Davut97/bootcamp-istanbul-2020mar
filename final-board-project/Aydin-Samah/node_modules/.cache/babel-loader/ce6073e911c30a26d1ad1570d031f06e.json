{"ast":null,"code":"var _jsxFileName = \"D:\\\\reCoded\\\\ShoppingListPlannerTogether2\\\\shopping-list\\\\src\\\\components\\\\lists\\\\List.js\";\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { compose } from 'redux';\nimport { addItem } from '../../store/actions/listActions';\nimport Items from \"./Items\";\n\nconst List = props => {\n  console.log(props.list); // to see match.params.id\n\n  const {\n    list,\n    items\n  } = props;\n  const id = props.match.params.id;\n  const [name, setName] = useState('');\n  const [amount, setAmount] = useState(0);\n  const [fetchedItems, setFetchedItems] = useState(items);\n\n  const handleChangeName = event => {\n    setName(event.target.value);\n  };\n\n  const handleChangeAmount = event => {\n    setAmount(event.target.value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    console.log(name, amount, id);\n    props.addItem({\n      name: name,\n      amount: amount,\n      id: id\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, props.list.title, \"-\", id), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, \"Create list\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 15\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    onChange: handleChangeName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 15\n    }\n  }, \"Amount\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    id: \"amount\",\n    onChange: handleChangeAmount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 15\n    }\n  }, \"Add item\"))), fetchedItems && fetchedItems.map(item => /*#__PURE__*/React.createElement(Items, {\n    item: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }))));\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  // console.log(ownProps);\n  const id = ownProps.match.params.id;\n  const lists = state.firestore.data.lists;\n  const list = lists ? lists[id] : null;\n  const items = state.firestore.data.lists ? state.firestore.data.lists[id].items : null;\n  console.log(items);\n  return {\n    list: list,\n    items: items,\n    auth: state.firebase.auth\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addItem: list => dispatch(addItem(list))\n  };\n};\n\nexport default compose(connect(mapStateToProps, mapDispatchToProps), firestoreConnect(props => [{\n  collection: 'list',\n  doc: props.match.params.id\n}]))(List);","map":{"version":3,"sources":["D:/reCoded/ShoppingListPlannerTogether2/shopping-list/src/components/lists/List.js"],"names":["React","useState","useEffect","connect","firestoreConnect","compose","addItem","Items","List","props","console","log","list","items","id","match","params","name","setName","amount","setAmount","fetchedItems","setFetchedItems","handleChangeName","event","target","value","handleChangeAmount","handleSubmit","preventDefault","title","map","item","mapStateToProps","state","ownProps","lists","firestore","data","auth","firebase","mapDispatchToProps","dispatch","collection","doc"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { firestoreConnect } from 'react-redux-firebase';\r\nimport { compose } from 'redux';\r\nimport { addItem } from '../../store/actions/listActions';\r\nimport Items from \"./Items\"\r\nconst List = (props) => {\r\n  console.log(props.list); // to see match.params.id\r\n  const { list,items } = props;\r\n  const id = props.match.params.id;\r\n  const [name, setName] = useState('');\r\n  const [amount, setAmount] = useState(0);\r\n  const [fetchedItems,setFetchedItems] = useState(items)\r\n  const handleChangeName = (event) => {\r\n    setName(event.target.value);\r\n  };\r\n  const handleChangeAmount = (event) => {\r\n    setAmount(event.target.value);\r\n  };\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    console.log(name, amount, id);\r\n    props.addItem({ name: name, amount: amount, id: id });\r\n  };\r\n \r\n  \r\n    return (\r\n      <div>\r\n        <span>\r\n          {props.list.title}-{id}\r\n        </span>\r\n        <div>\r\n          <form onSubmit={handleSubmit}>\r\n            <h5>Create list</h5>\r\n            <div>\r\n              <label htmlFor=\"name\">Name</label>\r\n              <input type=\"text\" id=\"name\" onChange={handleChangeName} />\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"number\">Amount</label>\r\n              <input type=\"number\" id=\"amount\" onChange={handleChangeAmount} />\r\n            </div>\r\n\r\n            <div>\r\n              <button>Add item</button>\r\n            </div>\r\n          </form>\r\n          {fetchedItems && fetchedItems.map((item)=>(\r\n            <Items item={item}/>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  \r\n};\r\nconst mapStateToProps = (state, ownProps) => {\r\n  // console.log(ownProps);\r\n  const id = ownProps.match.params.id;\r\n  const lists = state.firestore.data.lists;\r\n  const list = lists ? lists[id] : null;\r\n  const items = state.firestore.data.lists ? state.firestore.data.lists[id].items : null;\r\n  console.log(items)\r\n  return {\r\n    list: list,\r\n    items :items,\r\n    auth: state.firebase.auth,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addItem: (list) => dispatch(addItem(list)),\r\n  };\r\n};\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  firestoreConnect((props) => [{ collection: 'list', doc: props.match.params.id }])\r\n)(List);\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}