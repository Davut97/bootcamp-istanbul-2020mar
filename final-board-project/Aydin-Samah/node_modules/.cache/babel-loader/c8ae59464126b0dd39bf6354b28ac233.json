{"ast":null,"code":"var _jsxFileName = \"/media/aydin/86787318787305E9/reCoded/ShoppingListPlannerTogether2/shopping-list/src/components/lists/List.js\";\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { compose } from 'redux';\nimport { addItem, deleteItem, editItem } from '../../store/actions/listActions';\nimport Items from './Items';\nimport { Redirect } from 'react-router-dom';\nimport { MDBBtn, MDBInput } from 'mdbreact';\n\nconst List = props => {\n  // console.log(props.list); // to see match.params.id\n  const {\n    items,\n    auth\n  } = props; // console.log(props);\n\n  console.log(props);\n  const id = props.match.params.id;\n  const [name, setName] = useState('');\n  const [amount, setAmount] = useState(0);\n  const [fetchedItems, setFetchedItems] = useState(items);\n  const [editItemIsOpen, setEditItemIsOpen] = useState(false);\n\n  const handleChangeName = event => {\n    setName(event.target.value);\n  };\n\n  const handleChangeAmount = event => {\n    setAmount(event.target.value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault(); // console.log(name, amount, id);\n\n    props.addItem({\n      name: name,\n      amount: amount,\n      id: id\n    });\n  };\n\n  const handleDeleteItem = (event, itemId, itemName, itemAmount) => {\n    console.log(itemId, itemName, itemAmount);\n    props.deleteItem({\n      listId: id,\n      itemId: itemId,\n      itemName: itemName,\n      itemAmount: itemAmount\n    });\n  };\n\n  const handleEditItem = (listId, itemId, itemName, itemAmount) => {\n    console.log(listId, itemId, itemName, itemAmount);\n    props.editItem({\n      listId: id,\n      itemId: itemId,\n      itemName: itemName,\n      itemAmount: itemAmount\n    }); // props.deleteItem({\n    //   listId: id,\n    //   itemId: itemId,\n    //   itemName: itemName,\n    //   itemAmount: itemAmount,\n    // });\n  };\n\n  const handleEditIsOpen = e => {\n    e.preventDefault();\n    setEditItemIsOpen(!editItemIsOpen);\n    console.log(editItemIsOpen);\n  };\n\n  useEffect(() => {\n    setFetchedItems(items);\n  }, [items]);\n  const title = props.list.title ? props.list.title : null;\n\n  if (auth.uid) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      style: {\n        width: '400px',\n        margin: 'auto',\n        marginTop: '60px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, \"Add item to \", title, \" list\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '400px',\n        margin: 'auto',\n        marginTop: '60px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MDBInput, {\n      label: \"Item Name\",\n      id: \"name\",\n      onChange: handleChangeName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(MDBInput, {\n      label: \"Amount\",\n      id: \"amount\",\n      onChange: handleChangeAmount,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MDBBtn, {\n      color: \"pink\",\n      onClick: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }, \"Add Item\"))), fetchedItems && fetchedItems.map(item => /*#__PURE__*/React.createElement(Items, {\n      key: item.id,\n      item: item,\n      id: id,\n      handleClick: handleDeleteItem,\n      handleEdit: handleEditItem,\n      editButton: editItemIsOpen,\n      handleEditIcon: handleEditIsOpen,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 15\n      }\n    }))));\n  } else {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 12\n      }\n    });\n  }\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  // console.log(ownProps);\n  const id = ownProps.match.params.id;\n  const lists = state.firestore.data.lists;\n  const list = lists ? lists[id] : null; // console.log(lists, id);\n\n  const items = state.firestore.data.lists ? state.firestore.data.lists[id].items : null; // console.log(items);\n\n  return {\n    list: list,\n    items: items,\n    auth: state.firebase.auth\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addItem: list => dispatch(addItem(list)),\n    deleteItem: item => dispatch(deleteItem(item)),\n    editItem: item => dispatch(editItem(item))\n  };\n};\n\nexport default compose(firestoreConnect(() => ['lists']), connect(mapStateToProps, mapDispatchToProps))(List); // <form onSubmit={handleSubmit}>\n//             <h5>Add item</h5>\n//             <div>\n//               <label htmlFor='name'>Name</label>\n//               <input type='text' id='name' onChange={handleChangeName} />\n//             </div>\n//             <div>\n//               <label htmlFor='number'>Amount</label>\n//               <input type='number' id='amount' onChange={handleChangeAmount} />\n//             </div>\n//             <div>\n//               <button>Add item</button>\n//             </div>\n//           </form>","map":{"version":3,"sources":["/media/aydin/86787318787305E9/reCoded/ShoppingListPlannerTogether2/shopping-list/src/components/lists/List.js"],"names":["React","useState","useEffect","connect","firestoreConnect","compose","addItem","deleteItem","editItem","Items","Redirect","MDBBtn","MDBInput","List","props","items","auth","console","log","id","match","params","name","setName","amount","setAmount","fetchedItems","setFetchedItems","editItemIsOpen","setEditItemIsOpen","handleChangeName","event","target","value","handleChangeAmount","handleSubmit","preventDefault","handleDeleteItem","itemId","itemName","itemAmount","listId","handleEditItem","handleEditIsOpen","e","title","list","uid","width","margin","marginTop","map","item","mapStateToProps","state","ownProps","lists","firestore","data","firebase","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {firestoreConnect} from 'react-redux-firebase';\r\nimport {compose} from 'redux';\r\nimport {addItem, deleteItem, editItem} from '../../store/actions/listActions';\r\nimport Items from './Items';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {MDBBtn, MDBInput} from 'mdbreact';\r\n\r\nconst List = (props) => {\r\n  // console.log(props.list); // to see match.params.id\r\n  const {items, auth} = props;\r\n  // console.log(props);\r\n  console.log(props);\r\n  const id = props.match.params.id;\r\n  const [name, setName] = useState('');\r\n  const [amount, setAmount] = useState(0);\r\n  const [fetchedItems, setFetchedItems] = useState(items);\r\n  const [editItemIsOpen, setEditItemIsOpen] = useState(false);\r\n  const handleChangeName = (event) => {\r\n    setName(event.target.value);\r\n  };\r\n  const handleChangeAmount = (event) => {\r\n    setAmount(event.target.value);\r\n  };\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    // console.log(name, amount, id);\r\n    props.addItem({name: name, amount: amount, id: id});\r\n  };\r\n  const handleDeleteItem = (event, itemId, itemName, itemAmount) => {\r\n    console.log(itemId, itemName, itemAmount);\r\n\r\n    props.deleteItem({\r\n      listId: id,\r\n      itemId: itemId,\r\n      itemName: itemName,\r\n      itemAmount: itemAmount,\r\n    });\r\n  };\r\n  const handleEditItem = (listId, itemId, itemName, itemAmount) => {\r\n    console.log(listId, itemId, itemName, itemAmount);\r\n    props.editItem({\r\n      listId: id,\r\n      itemId: itemId,\r\n      itemName: itemName,\r\n      itemAmount: itemAmount,\r\n    });\r\n    // props.deleteItem({\r\n    //   listId: id,\r\n    //   itemId: itemId,\r\n    //   itemName: itemName,\r\n    //   itemAmount: itemAmount,\r\n    // });\r\n  };\r\n  const handleEditIsOpen = (e) => {\r\n    e.preventDefault();\r\n    setEditItemIsOpen(!editItemIsOpen);\r\n    console.log(editItemIsOpen);\r\n  };\r\n  useEffect(() => {\r\n    setFetchedItems(items);\r\n  }, [items]);\r\n  const title = props.list.title ? props.list.title : null;\r\n  if (auth.uid) {\r\n    return (\r\n      <div>\r\n        <div>\r\n          <form style={{width: '400px', margin: 'auto', marginTop: '60px'}}>\r\n            <h5>Add item to {title} list</h5>\r\n            <div style={{width: '400px', margin: 'auto', marginTop: '60px'}}>\r\n              <MDBInput\r\n                label='Item Name'\r\n                id='name'\r\n                onChange={handleChangeName}\r\n              />\r\n              <MDBInput\r\n                label='Amount'\r\n                id='amount'\r\n                onChange={handleChangeAmount}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <MDBBtn color='pink' onClick={handleSubmit}>\r\n                Add Item\r\n              </MDBBtn>\r\n            </div>\r\n          </form>\r\n\r\n          {fetchedItems &&\r\n            fetchedItems.map((item) => (\r\n              <Items\r\n                key={item.id}\r\n                item={item}\r\n                id={id}\r\n                handleClick={handleDeleteItem}\r\n                handleEdit={handleEditItem}\r\n                editButton={editItemIsOpen}\r\n                handleEditIcon={handleEditIsOpen}\r\n              />\r\n            ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return <Redirect to='/login' />;\r\n  }\r\n};\r\nconst mapStateToProps = (state, ownProps) => {\r\n  // console.log(ownProps);\r\n  const id = ownProps.match.params.id;\r\n  const lists = state.firestore.data.lists;\r\n  const list = lists ? lists[id] : null;\r\n  // console.log(lists, id);\r\n  const items = state.firestore.data.lists\r\n    ? state.firestore.data.lists[id].items\r\n    : null;\r\n  // console.log(items);\r\n  return {\r\n    list: list,\r\n    items: items,\r\n    auth: state.firebase.auth,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addItem: (list) => dispatch(addItem(list)),\r\n    deleteItem: (item) => dispatch(deleteItem(item)),\r\n    editItem: (item) => dispatch(editItem(item)),\r\n  };\r\n};\r\nexport default compose(\r\n  firestoreConnect(() => ['lists']),\r\n  connect(mapStateToProps, mapDispatchToProps)\r\n)(List);\r\n\r\n// <form onSubmit={handleSubmit}>\r\n//             <h5>Add item</h5>\r\n//             <div>\r\n//               <label htmlFor='name'>Name</label>\r\n//               <input type='text' id='name' onChange={handleChangeName} />\r\n//             </div>\r\n//             <div>\r\n//               <label htmlFor='number'>Amount</label>\r\n//               <input type='number' id='amount' onChange={handleChangeAmount} />\r\n//             </div>\r\n\r\n//             <div>\r\n//               <button>Add item</button>\r\n//             </div>\r\n//           </form>\r\n"]},"metadata":{},"sourceType":"module"}