{"ast":null,"code":"var _jsxFileName = \"D:\\\\reCoded\\\\ShoppingListPlannerTogether2\\\\shopping-list\\\\src\\\\components\\\\lists\\\\List.js\";\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { compose } from 'redux';\nimport { addItem, deleteItem } from '../../store/actions/listActions';\nimport Items from \"./Items\";\n\nconst List = props => {\n  console.log(props.list); // to see match.params.id\n\n  const {\n    list,\n    items\n  } = props;\n  const id = props.match.params.id;\n  const [name, setName] = useState('');\n  const [amount, setAmount] = useState(0);\n  const [fetchedItems, setFetchedItems] = useState(items);\n\n  const handleChangeName = event => {\n    setName(event.target.value);\n  };\n\n  const handleChangeAmount = event => {\n    setAmount(event.target.value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    console.log(name, amount, id);\n    props.addItem({\n      name: name,\n      amount: amount,\n      id: id\n    });\n  };\n\n  const handleDeleteItem = (listId, itemId, itemName, itemAmount) => {\n    // console.log(listId,itemId,itemName,itemAmount)\n    props.deleteItem({\n      listId: id,\n      itemId: itemId,\n      itemName: itemName,\n      itemAmount: itemAmount\n    });\n  };\n\n  useEffect(() => {\n    setFetchedItems(items);\n  }, [items]);\n\n  if (list) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }\n    }, props.list.title, \"-\", id), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }\n    }, \"Create list\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 15\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"name\",\n      onChange: handleChangeName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 15\n      }\n    }, \"Amount\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      id: \"amount\",\n      onChange: handleChangeAmount,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }\n    }, \"Add item\"))), fetchedItems && fetchedItems.map(item => /*#__PURE__*/React.createElement(Items, {\n      item: item,\n      id: id,\n      handleClick: handleDeleteItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }))));\n  } else {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  }\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  // console.log(ownProps);\n  const id = ownProps.match.params.id;\n  const lists = state.firestore.data.lists;\n  const list = lists ? lists[id] : null;\n  console.log(lists, id);\n  const items = state.firestore.data.lists ? state.firestore.data.lists[id].items : null;\n  console.log(items);\n  return {\n    list: list,\n    items: items,\n    auth: state.firebase.auth\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addItem: list => dispatch(addItem(list)),\n    deleteItem: item => dispatch(deleteItem(item))\n  };\n};\n\nexport default compose(firestoreConnect(props => [{\n  collection: 'list',\n  doc: props.match.params.id\n}]), connect(mapStateToProps, mapDispatchToProps))(List);","map":{"version":3,"sources":["D:/reCoded/ShoppingListPlannerTogether2/shopping-list/src/components/lists/List.js"],"names":["React","useState","useEffect","connect","firestoreConnect","compose","addItem","deleteItem","Items","List","props","console","log","list","items","id","match","params","name","setName","amount","setAmount","fetchedItems","setFetchedItems","handleChangeName","event","target","value","handleChangeAmount","handleSubmit","preventDefault","handleDeleteItem","listId","itemId","itemName","itemAmount","title","map","item","mapStateToProps","state","ownProps","lists","firestore","data","auth","firebase","mapDispatchToProps","dispatch","collection","doc"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAAyBC,SAAzB,QAA0C,OAA1C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,gBAAT,QAAiC,sBAAjC;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,SAASC,OAAT,EAAiBC,UAAjB,QAAmC,iCAAnC;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AACA,MAAMC,IAAI,GAAIC,KAAD,IAAW;AACtBC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,IAAlB,EADsB,CACG;;AACzB,QAAM;AAAEA,IAAAA,IAAF;AAAOC,IAAAA;AAAP,MAAiBJ,KAAvB;AACA,QAAMK,EAAE,GAAGL,KAAK,CAACM,KAAN,CAAYC,MAAZ,CAAmBF,EAA9B;AACA,QAAM,CAACG,IAAD,EAAOC,OAAP,IAAkBlB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACmB,MAAD,EAASC,SAAT,IAAsBpB,QAAQ,CAAC,CAAD,CAApC;AACA,QAAM,CAACqB,YAAD,EAAcC,eAAd,IAAiCtB,QAAQ,CAACa,KAAD,CAA/C;;AACA,QAAMU,gBAAgB,GAAIC,KAAD,IAAW;AAClCN,IAAAA,OAAO,CAACM,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAP;AACD,GAFD;;AAGA,QAAMC,kBAAkB,GAAIH,KAAD,IAAW;AACpCJ,IAAAA,SAAS,CAACI,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAT;AACD,GAFD;;AAGA,QAAME,YAAY,GAAIJ,KAAD,IAAW;AAC9BA,IAAAA,KAAK,CAACK,cAAN;AACAnB,IAAAA,OAAO,CAACC,GAAR,CAAYM,IAAZ,EAAkBE,MAAlB,EAA0BL,EAA1B;AACAL,IAAAA,KAAK,CAACJ,OAAN,CAAc;AAAEY,MAAAA,IAAI,EAAEA,IAAR;AAAcE,MAAAA,MAAM,EAAEA,MAAtB;AAA8BL,MAAAA,EAAE,EAAEA;AAAlC,KAAd;AACD,GAJD;;AAKA,QAAMgB,gBAAgB,GAAG,CAACC,MAAD,EAAQC,MAAR,EAAeC,QAAf,EAAwBC,UAAxB,KAAqC;AAC5D;AACAzB,IAAAA,KAAK,CAACH,UAAN,CAAiB;AAACyB,MAAAA,MAAM,EAACjB,EAAR;AAAWkB,MAAAA,MAAM,EAACA,MAAlB;AAAyBC,MAAAA,QAAQ,EAACA,QAAlC;AAA2CC,MAAAA,UAAU,EAACA;AAAtD,KAAjB;AACD,GAHD;;AAIAjC,EAAAA,SAAS,CAAC,MAAI;AACZqB,IAAAA,eAAe,CAACT,KAAD,CAAf;AACD,GAFQ,EAEP,CAACA,KAAD,CAFO,CAAT;;AAGA,MAAID,IAAJ,EAAU;AACR,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGH,KAAK,CAACG,IAAN,CAAWuB,KADd,OACsBrB,EADtB,CADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAM,MAAA,QAAQ,EAAEc,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,EAAE,EAAC,MAAtB;AAA6B,MAAA,QAAQ,EAAEL,gBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAFF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,OAAO,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,EAAE,EAAC,QAAxB;AAAiC,MAAA,QAAQ,EAAEI,kBAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CANF,eAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CAXF,CADF,EAgBGN,YAAY,IAAIA,YAAY,CAACe,GAAb,CAAkBC,IAAD,iBAChC,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAEA,IAAb;AAAmB,MAAA,EAAE,EAAEvB,EAAvB;AAA2B,MAAA,WAAW,EAAEgB,gBAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADe,CAhBnB,CAJF,CADF;AA2BD,GA5BD,MA4BO;AACL,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAP;AACD;AACF,CAxDD;;AAyDA,MAAMQ,eAAe,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;AAC3C;AACA,QAAM1B,EAAE,GAAG0B,QAAQ,CAACzB,KAAT,CAAeC,MAAf,CAAsBF,EAAjC;AACA,QAAM2B,KAAK,GAAGF,KAAK,CAACG,SAAN,CAAgBC,IAAhB,CAAqBF,KAAnC;AACA,QAAM7B,IAAI,GAAG6B,KAAK,GAAGA,KAAK,CAAC3B,EAAD,CAAR,GAAe,IAAjC;AACAJ,EAAAA,OAAO,CAACC,GAAR,CAAY8B,KAAZ,EAAkB3B,EAAlB;AACA,QAAMD,KAAK,GAAG0B,KAAK,CAACG,SAAN,CAAgBC,IAAhB,CAAqBF,KAArB,GAA6BF,KAAK,CAACG,SAAN,CAAgBC,IAAhB,CAAqBF,KAArB,CAA2B3B,EAA3B,EAA+BD,KAA5D,GAAoE,IAAlF;AACAH,EAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACA,SAAO;AACLD,IAAAA,IAAI,EAAEA,IADD;AAELC,IAAAA,KAAK,EAAEA,KAFF;AAGL+B,IAAAA,IAAI,EAAEL,KAAK,CAACM,QAAN,CAAeD;AAHhB,GAAP;AAKD,CAbD;;AAcA,MAAME,kBAAkB,GAAIC,QAAD,IAAc;AACvC,SAAO;AACL1C,IAAAA,OAAO,EAAGO,IAAD,IAAUmC,QAAQ,CAAC1C,OAAO,CAACO,IAAD,CAAR,CADtB;AAELN,IAAAA,UAAU,EAAG+B,IAAD,IAAUU,QAAQ,CAACzC,UAAU,CAAC+B,IAAD,CAAX;AAFzB,GAAP;AAID,CALD;;AAMA,eAAejC,OAAO,CACpBD,gBAAgB,CAAEM,KAAD,IAAW,CAAC;AAAEuC,EAAAA,UAAU,EAAE,MAAd;AAAsBC,EAAAA,GAAG,EAAExC,KAAK,CAACM,KAAN,CAAYC,MAAZ,CAAmBF;AAA9C,CAAD,CAAZ,CADI,EAEpBZ,OAAO,CAACoC,eAAD,EAAkBQ,kBAAlB,CAFa,CAAP,CAIbtC,IAJa,CAAf","sourcesContent":["import React, { useState,useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { firestoreConnect } from 'react-redux-firebase';\r\nimport { compose } from 'redux';\r\nimport { addItem,deleteItem } from '../../store/actions/listActions';\r\nimport Items from \"./Items\"\r\nconst List = (props) => {\r\n  console.log(props.list); // to see match.params.id\r\n  const { list,items } = props;\r\n  const id = props.match.params.id;\r\n  const [name, setName] = useState('');\r\n  const [amount, setAmount] = useState(0);\r\n  const [fetchedItems,setFetchedItems] = useState(items)\r\n  const handleChangeName = (event) => {\r\n    setName(event.target.value);\r\n  };\r\n  const handleChangeAmount = (event) => {\r\n    setAmount(event.target.value);\r\n  };\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    console.log(name, amount, id);\r\n    props.addItem({ name: name, amount: amount, id: id });\r\n  };\r\n  const handleDeleteItem = (listId,itemId,itemName,itemAmount)=>{\r\n    // console.log(listId,itemId,itemName,itemAmount)\r\n    props.deleteItem({listId:id,itemId:itemId,itemName:itemName,itemAmount:itemAmount})\r\n  }\r\n  useEffect(()=>{\r\n    setFetchedItems(items)\r\n  },[items])\r\n  if (list) {\r\n    return (\r\n      <div>\r\n        <span>\r\n          {props.list.title}-{id}\r\n        </span>\r\n        <div>\r\n          <form onSubmit={handleSubmit}>\r\n            <h5>Create list</h5>\r\n            <div>\r\n              <label htmlFor=\"name\">Name</label>\r\n              <input type=\"text\" id=\"name\" onChange={handleChangeName} />\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"number\">Amount</label>\r\n              <input type=\"number\" id=\"amount\" onChange={handleChangeAmount} />\r\n            </div>\r\n\r\n            <div>\r\n              <button>Add item</button>\r\n            </div>\r\n          </form>\r\n          {fetchedItems && fetchedItems.map((item)=>(\r\n            <Items item={item} id={id} handleClick={handleDeleteItem}/>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return <p>Loading...</p>;\r\n  }\r\n};\r\nconst mapStateToProps = (state, ownProps) => {\r\n  // console.log(ownProps);\r\n  const id = ownProps.match.params.id;\r\n  const lists = state.firestore.data.lists;\r\n  const list = lists ? lists[id] : null;\r\n  console.log(lists,id)\r\n  const items = state.firestore.data.lists ? state.firestore.data.lists[id].items : null;\r\n  console.log(items)\r\n  return {\r\n    list: list,\r\n    items :items,\r\n    auth: state.firebase.auth,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addItem: (list) => dispatch(addItem(list)),\r\n    deleteItem: (item) => dispatch(deleteItem(item)),\r\n  };\r\n};\r\nexport default compose(\r\n  firestoreConnect((props) => [{ collection: 'list', doc: props.match.params.id }]),\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n\r\n)(List);\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}